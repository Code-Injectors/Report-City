<ion-header>
  <ion-navbar>
    <ion-title>Issues</ion-title>
    <ion-buttons end>
        <button ion-button (click)="showFilterModal()" clear>
            <ion-icon name="funnel"></ion-icon>
        </button>
    </ion-buttons>
  </ion-navbar>
  
</ion-header>
<ion-content padding>
    <ion-searchbar (ionInput)="getReports($event)"></ion-searchbar>
    <ion-list *ngFor="let report of reports;  let i = index">
        <ion-card>
            <ion-item>
                <h2>{{report.title}}</h2>
                <p>{{report.category.name}}</p>
            </ion-item>
            <ion-card-content>
                {{report.description}}
            </ion-card-content>
            <ion-row>
                <ion-col>
                    <button (click)="review(report.creator.id,i,true)" ion-button icon-left clear small>
                        <ion-icon name="thumbs-up"></ion-icon>
                        <div>{{report.upVotes}}</div>
                    </button>
                </ion-col>
                <ion-col>
                    <button (click)="review(report.creator.id,i,false)" ion-button icon-left clear small>
                        <ion-icon name="thumbs-down"></ion-icon>
                        <div>{{report.downVotes}}</div>
                    </button>
                </ion-col>
                <ion-col>
                    <button ion-button icon-left clear small (click)="openCommentsModal(i)">
                        <ion-icon name="text"></ion-icon>
                        <div>{{report.allComments}}</div>
                    </button>
                </ion-col>
            </ion-row>
        </ion-card>
    </ion-list>
    <ion-fab bottom right>
        <button ion-fab mini (click)="goToNewIssue()"><ion-icon name="add"></ion-icon></button>
    </ion-fab>
</ion-content>

